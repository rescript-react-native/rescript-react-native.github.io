"use strict";(self.webpackChunkrescript_react_native_github_io=self.webpackChunkrescript_react_native_github_io||[]).push([[4827],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,k=u["".concat(p,".").concat(d)]||u[d]||m[d]||o;return n?a.createElement(k,i(i({ref:t},c),{},{components:n})):a.createElement(k,i({ref:t},c))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2175:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const o={slug:"usage",title:"Usage"},i=void 0,l={unversionedId:"usage",id:"usage",title:"Usage",description:"When rescript, @rescript/react and rescript-react-native are installed, you",source:"@site/docs/usage.md",sourceDirName:".",slug:"/usage",permalink:"/docs/usage",draft:!1,editUrl:"https://github.com/rescript-react-native/rescript-react-native.github.io/edit/src/docs/usage.md",tags:[],version:"current",frontMatter:{slug:"usage",title:"Usage"},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/install"},next:{title:"Example",permalink:"/docs/example"}},p={},s=[{value:"Automate compilation of <code>*.res</code> files",id:"automate-compilation-of-res-files",level:2},{value:"Compile ReScript files via IDE",id:"compile-rescript-files-via-ide",level:2},{value:"Vscode workflow",id:"vscode-workflow",level:2},{value:"Compile ReScript files via CLI",id:"compile-rescript-files-via-cli",level:3},{value:"CLI Development workflow",id:"cli-development-workflow",level:4},{value:"Interoperability with JavaScript",id:"interoperability-with-javascript",level:2},{value:"Using JavaScript components from Reason",id:"using-javascript-components-from-reason",level:3},{value:"Using ReScript React Native components from JavaScript",id:"using-rescript-react-native-components-from-javascript",level:3}],c={toc:s},u="wrapper";function m(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"rescript"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"@rescript/react")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"rescript-react-native")," are installed, you\ncan run the following command"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run rescript\n")),(0,r.kt)("p",null,"\u26a0\ufe0f ",(0,r.kt)("em",{parentName:"p"},"If this process looks fast to you, don't be surprised, that's because ReScript is fast!")),(0,r.kt)("p",null,"This command should compile all ",(0,r.kt)("inlineCode",{parentName:"p"},".res")," files to their ",(0,r.kt)("inlineCode",{parentName:"p"},".bs.js")," counterparts."),(0,r.kt)("p",null,"This means if you have an ",(0,r.kt)("inlineCode",{parentName:"p"},"src/App.res")," file, you should now have ",(0,r.kt)("inlineCode",{parentName:"p"},"src/App.bs.js"),"\nfile too."),(0,r.kt)("p",null,"You may also notice some compilation artifacts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},".bsb.lock")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},".merlin")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"lib/bs"))),(0,r.kt)("p",null,"You may want to gitignore all of these:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"*.bs.js\n.bsb.lock\n.merlin\nlib/bs\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"If you used our template, it should be done already"),"."),(0,r.kt)("h2",{id:"automate-compilation-of-res-files"},"Automate compilation of ",(0,r.kt)("inlineCode",{parentName:"h2"},"*.res")," files"),(0,r.kt)("p",null,"You have multipes way to not have to think about compilation for your daily\nworkflow"),(0,r.kt)("h2",{id:"compile-rescript-files-via-ide"},"Compile ReScript files via IDE"),(0,r.kt)("p",null,"To get the best development experience possible, we recommend you to use\n",(0,r.kt)("a",{parentName:"p",href:"https://code.visualstudio.com"},"VSCode")," with\n",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=chenglou92.rescript-vscode"},"ReScript plugin"),"\nextension. Optionally you can add\n",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=flowtype.flow-for-vscode"},"Flow Language Server"),"\nextension if you have existing JavaScript covered by Flow."),(0,r.kt)("p",null,"\u26a0\ufe0f If you don\u2019t want to use VSCode, we still recommend you to\n",(0,r.kt)("a",{parentName:"p",href:"https://rescript-lang.org/docs/manual/latest/editor-plugins"},"get a ReScript editor plugin"),"."),(0,r.kt)("p",null,"\ud83c\udf89 ",(0,r.kt)("strong",{parentName:"p"},"By having an IDE that handle ReScript compilation, you will not have to run a\ncommand in the terminal")," to handle this & will just have to follow the standard\nReact Native workflow, your ReScript files being compiled to JavaScript."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"You will also have inline errors & much more feature that won't be provided by\nusing a CLI workflow.")),(0,r.kt)("h2",{id:"vscode-workflow"},"Vscode workflow"),(0,r.kt)("p",null,"When you open VSCode with the ReScript plugin, you won't have to do anything.\nThe plugin will detect ReScript & will offer you to handle compilation by just clicking a button."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"VSCode ReScript plugin",src:n(2627).Z,width:"1090",height:"868"})),(0,r.kt)("p",null,"\u26d1 ",(0,r.kt)("em",{parentName:"p"},"Even if you decide to use Vscode or a smiliar IDE to ease your day to day\ndevelopment workflow, you should have a look to CLI workflow so you know how it\nworks.")),(0,r.kt)("h3",{id:"compile-rescript-files-via-cli"},"Compile ReScript files via CLI"),(0,r.kt)("p",null,"When you use React Native, you usually always have a terminal opened around with\nMetro Bundler running, which bundle the JavaScript files."),(0,r.kt)("p",null,"Now you need to also have a process watching for your ReScript files to compile\nthen to JavaScript. The easiest way is to rely on ReScript ",(0,r.kt)("inlineCode",{parentName:"p"},"rescript")," watch\noption ",(0,r.kt)("inlineCode",{parentName:"p"},"-w"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run rescript build -w\n")),(0,r.kt)("p",null,"If you are not familiar with ReScript ",(0,r.kt)("inlineCode",{parentName:"p"},"rescript")," you should know that you might\nsometimes have weird compilation errors due to outdated build artifacts. This\nshould not happen often but in case you are facing something weird, you can try\nusing ",(0,r.kt)("inlineCode",{parentName:"p"},"rescript")," ",(0,r.kt)("inlineCode",{parentName:"p"},"clean")," option"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run rescript clean\n")),(0,r.kt)("p",null,"You might want to add this two commands in your ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," scripts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'  "scripts": {\n    "res:clean": "rescript clean",\n    "res:build": "rescript build",\n    "res:watch": "rescript build -w",\n    "start": "react-native start",\n    "ios": "react-native run-ios",\n    "android": "react-native run-android",\n  }\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note: you probably have ",(0,r.kt)("inlineCode",{parentName:"em"},"start")," already.")),(0,r.kt)("p",null,"If you are doing this change in your scripts, you can now use this development\nworkflow"),(0,r.kt)("h4",{id:"cli-development-workflow"},"CLI Development workflow"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"In one terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run res:watch\n")),(0,r.kt)("p",null,"As soon as ",(0,r.kt)("inlineCode",{parentName:"p"},".res")," files are being compiled to ",(0,r.kt)("inlineCode",{parentName:"p"},".bs.js"),", you can either start the\nproject on ",(0,r.kt)("em",{parentName:"p"},"iOS Simulator")," (included in ",(0,r.kt)("em",{parentName:"p"},"Xcode"),") or an Android Emulator (if you\nare unfamiliar with ",(0,r.kt)("em",{parentName:"p"},"Android Studio"),", you might be interested by\n",(0,r.kt)("a",{parentName:"p",href:"https://www.genymotion.com"},"Genymotion"),")."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"In another terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run ios\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm run android\n")),(0,r.kt)("p",null,"This commands should open up a virtual device & start React Native\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebook/metro"},"metro bundler"),". This packager will serves\nthe compiled ReScript code to the React Native client."),(0,r.kt)("p",null,"Now you can start coding by editing files in ",(0,r.kt)("inlineCode",{parentName:"p"},"src/"),"!"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/getting-started"},"Read more about starting the project in your environment of choice"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note: as soon as you have the app installed in a simulator/emulator, you can\njust run")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-console"},"npm start\n")),(0,r.kt)("p",null,"This avoid rebuilding the entire native parts & will just start React Native\nmetro bundler."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"interoperability-with-javascript"},"Interoperability with JavaScript"),(0,r.kt)("h3",{id:"using-javascript-components-from-reason"},"Using JavaScript components from Reason"),(0,r.kt)("p",null,"Check out\n",(0,r.kt)("a",{parentName:"p",href:"https://rescript-lang.org/docs/manual/latest/import-from-export-to-js"},"ReScript ",(0,r.kt)("em",{parentName:"a"},"Import from/Export to JS")," page"),"."),(0,r.kt)("p",null,"You can also browse the source of\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/rescript-react-native/rescript-react-native/tree/main/src"},"rescript-react-native"),"\nbecause that's exactly what this project is doing!"),(0,r.kt)("h3",{id:"using-rescript-react-native-components-from-javascript"},"Using ReScript React Native components from JavaScript"),(0,r.kt)("p",null,"Check out\n",(0,r.kt)("a",{parentName:"p",href:"https://rescript-lang.org/docs/manual/latest/import-from-export-to-js"},"ReScript ",(0,r.kt)("em",{parentName:"a"},"Import from/Export to JS")," page")))}m.isMDXComponent=!0},2627:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/vscode-alert-1a4e9aea9b7f3d273857fe682a83e4bb.png"}}]);